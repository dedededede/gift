<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<TITLE>亲爱的小猪</TITLE>
<META http-equiv=Content-Type content="text/html; charset=UTF-8">
<link href="93me/default.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="93me/jquery.js"></script>
<script type="text/javascript" src="93me/garden.js" ></script>
<script type="text/javascript" src="93me/functions.js" ></script>
<script type="text/javascript" src="93me/min.js"></script>
</head>

<body>



<div id="mainDiv">
<div id="content">
    <audio id="bgmusic" src="http://old9frbay.bkt.clouddn.com/93me.mp3" autoplay preload loop controls></audio>
    <!-- 当使用方法1时必须加载 JS-SDK 的 JS 文件, 方法2不需要加载这个 JS -->
    <script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script>
    // 方法1: 现在微信官方已经推出了微信JS-SDK, 最好还是不要使用"野生"方式, 因为不知道什么时候就可以不能用了!
    // http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html
    // 通过config接口注入权限验证配置后, 在 ready 中 play 一下 audio
    function autoPlayAudio1() {
        wx.config({
            // 配置信息, 即使不正确也能使用 wx.ready
            debug: false,
            appId: '',
            timestamp: 1,
            nonceStr: '',
            signature: '',
            jsApiList: []
        });
        wx.ready(function() {
            document.getElementById('bgmusic').play();
        });
    }

    // 方法2: "野生"方法, 借用原来老的 WeixinJSBridge
    function autoPlayAudio2() {
        window.onload = function() {
            // alert(typeof WeixinJSBridge);
            WeixinJSBridge.invoke('getNetworkType', {}, function(e) {
                // 在这里拿到 e.err_msg, 这里面就包含了所有的网络类型
                // alert(e.err_msg);
                document.getElementById('bgmusic').play();
            });
        };
    }

    // 大家或多或少都知道 iOS Safari 不允许自动播放 audio, 可能已经被坑过了,
    // 但微信内嵌的浏览器应该是做了一些定制化, 允许自动播放 audio.
    // 测试了以下机型在微信内嵌浏览器中仅需设置 audio autoplay 即可自动播放(audio)音乐, 无需特殊处理.
    // * iPhone5     iOS 7.0.6 WeChat 6.2
    // * iPhone5s    iOS 8.1.2 WeChat 6.3.7
    // * iPhone6Plus iOS 8.1.3 WeChat 6.3.7
    // * MI1S    Android 4.1.2 WeChat 6.3.7
    //
    // 但是当手机是 iPhone6s iOS 9.1 WeChat 6.3.7 时, 必须做如下特殊处理才能在微信中自动播放(audio)音乐,
    // 我可以推测是 iOS 9 的兼容性问题么?
    //
    autoPlayAudio1(); // 推荐使用方法1
    // autoPlayAudio2(); // 也可以试一试方法2
    </script>
<div id="code">
<span class="comments"></span><br />
<span class="space"/><span class="comments">相识8年,相恋7年</span><br />
    <span class="space"/><span class="comments">7年之中,经历了很多,有欢乐,有吵闹,有悲喜...</span><br />
    <span class="space"/><span class="comments">7年里,不仅仅学会了恋人间的包容,也学会了一种人生同甘共苦的人生态度.</span><br />
    <span class="space"/><span class="comments">我们在2017年2月3号,结束了爱情的长跑,跨入了婚姻的殿堂.</span></span><br />
    <span class="space"/><span class="comments">我愿意陪你度过人生中的每一个春夏秋冬.</span><br />

</div>

<script type="text/javascript">

</script>
<div id="loveHeart">
<canvas id="garden"></canvas>
<div id="words">
<div id="messages"><script language="JavaScript" type="text/javascript" src="93me/clock.js"></script><br>
<div id="love">
<script type="text/javascript" charset="gb2312">
document.write('<font  color=#00ffff>'+getUrlParam1("y")+'：'+'</font>');
</SCRIPT><script type="text/javascript">
document.write('<font  color=#00ffff>'+getUrlParam3("w")+'</font>');
</SCRIPT>
</div>
</div>

<div id="loveu">
<div class="signature"><script type="text/javascript" charset="gb2312">
document.write('<font  color=#00ffff>'+'最爱你的'+getUrlParam2("m")+'</font>');
</SCRIPT>
</div>
</div>
</div>
<script type="text/javascript" >
var offsetX = $("#loveHeart").width() / 2;
var offsetY = $("#loveHeart").height() / 2 - 55;
var together = new Date();	
if (!document.createElement('canvas').getContext) {

} else {
setTimeout(function () {
adjustWordsPosition();
startHeartAnimation();
}, 5000);

timeElapse(together);
setInterval(function () {
timeElapse(together);
}, 500);

adjustCodePosition();
$("#code").typewriter();
}
</script> 

<br> 


</body>
</html>